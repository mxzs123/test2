# 芝生药局跨境商城（小程序风格）需求检查清单

## 0. 文档目的 & 范围
- 【√】目的：明确商城前端的信息架构、用户流程、页面结构、组件与状态，指导产品、设计与前端工程落地。（当前：本文件已转为用于验证移动端原型的检查清单。）
- 【×】范围：会员端（游客/注册用户）完整购物闭环（浏览→加购→结算→支付→处方/非处方后置流程→完成），账户中心（订单/优惠券/积分/等级），资讯、公司与网点、FAQ/底栏、积分商城。（当前：现有原型仅覆盖首页、商品、购物车、结算、问卷、订单等基础流程，缺少资讯、积分、等级等模块。）
- 【√】不在本版范围：后台配置/数据导出/订单发货面板等纯运营端。前端仅对接其提供的接口与配置结果显示。（当前：原型无后台功能，所有数据为前端模拟。）

## 1. 全局设计规范

### 1.1 角色与身份
- 【×】游客：可浏览商品、加入购物车；下单环节需登录/注册。（当前：游客可直接从首页加购并进入结算，无登录校验。）
- 【×】会员（登录用户）：有会员信息与等级、可领/用券、积分抵扣、下单支付与查看订单。（当前：登录页仅写入本地标记，个人中心无等级、优惠券、积分展示。）

### 1.2 站点语言与币种
- 【√】站点语言：中文；价格单位：RMB；库存展示以中文站数据为准。（当前：现有原型使用中文界面与人民币价格。）
- 【×】库存展示：商品与购物车需明确展示库存数量并与下单流程联动。（当前：页面未提供库存显示或校验。）

### 1.3 导航与底栏
- 【×】导航：首页、商品（处方药/非处方药/保健品…）、最新资讯、积分商城、公司介绍、店铺网点、加入我们、个人中心（登录后）。（当前：底部导航仅含首页/商品/购物车/我的，缺少资讯、积分、公司介绍等入口。）
- 【×】底栏：FAQ、营业时间、公司地址、版权信息。（当前：首页底部只有FAQ链接与营业时间/客服电话，没有公司地址与版权信息。）

### 1.5 统一组件/交互
- 【√】数量步进器（商品详情与购物车）。（当前：详情页与购物车均提供+-按钮并更新数量。）
- 【×】优惠券选择器（结算页，支持可用/不可用分组）。（当前：结算页没有任何优惠券入口或状态分组。）
- 【×】积分抵扣控件（开关+可输入抵扣额度/全额抵扣按钮；不受满减/满赠影响）。（当前：结算页无积分抵扣相关控件或文案。）
- 【×】免责声明弹窗（按商品属性绑定不同文案，加购后触发可查看）。（当前：仅有处方药提醒弹窗，无通用免责声明入口或文案配置。）
- 【×】问卷表单与证件上传（处方药订单后置流程；问卷与商品分类绑定；问卷非必填但证件必填）。（当前：处方药订单会进入固定问卷和身份证上传页面，问卷字段固定且为必填，未与分类绑定。）
- 【×】支付二维码 + 用户自确认支付状态（已完成/遇到问题）。（当前：暂无二维码支付页面或支付状态确认按钮。）
- 【×】地址选择器（列表+新增/编辑弹层），物流方式选择。（当前：结算页展示单个示例地址，无地址列表或新增编辑流程，仅提供静态快递选项。）

## 2. 信息架构（站点地图）
- 【×】公共页：首页（Banner、最新资讯、销量Top分类商品、优惠促活、店铺地址、加入我们）。（当前：首页有Banner与热销商品，但缺少资讯、活动与加入我们区块。）
- 【×】公共页：最新资讯（列表/详情）。（当前：原型未提供资讯列表或详情页。）
- 【×】公共页：商品：处方药、非处方药、保健品…（列表/筛选/详情）。（当前：商品页仅有分类切换与简单排序，没有多条件筛选或库存标识。）
- 【×】公共页：公司介绍 / 店铺网点 / 加入我们 / FAQ / 积分商城 / 免责声明页（汇总）。（当前：仅在首页底部展示文字链接，占位页缺失。）
- 【×】会员中心：我的订单、我的优惠券、我的积分、会员信息（含等级）。（当前：个人中心只有入口方块，除订单外其余页面尚未实现。）

## 3. 关键用户流程（含状态分支）

### 3.1 浏览→加购→结算→支付→（处方/非处方分支）→完成
- 【×】步骤1 浏览：进入分类或搜索到商品详情；查看图片、简介、售价（含税）、参数、库存（中文站）；设置数量→加入购物车。加购后弹出免责声明入口（按商品属性定义不同文案；可点击查看）。（当前：详情页缺少库存与免责声明入口，仅有基础定价。）
- 【×】步骤2 购物车：查看行项（名称、规格、单价、税金字段、数量步进器、库存校验）、整单税金累加、可用优惠券提示。可到结算。（当前：购物车仅显示名称、数量和价格，缺少税金字段与优惠券提示，也未校验库存。）
- 【×】步骤3 结算页：登录判断→收货信息（选择/新增地址、快递方式）→优惠券选择→积分抵扣→合计公式。（当前：用户无需登录即可提交；地址为固定示例；缺少优惠券与积分模块。）
- 【×】步骤4 支付：展示支付二维码，用户扫码后自行确认支付状态（“已完成支付/遇到问题”）。（当前：流程直接模拟支付并跳转，无二维码或手动确认按钮。）
- 【×】步骤5 支付回流判断：处方药跳转问卷（非必填，预填）与证件上传；纯非处方直接完成。（当前：处方药订单会跳到问卷但所有字段固定且必填，非处方订单跳至订单详情无专门完成页。）
- 【×】验收要点：处方/非处方分支正确路由；问卷与证件上传校验；税金字段逐行与整单累加正确；支付状态由用户确认也可在轮询失败时兜底。（当前：仅实现基础分支跳转，缺少税金校验与支付确认兜底。）

### 3.2 注册/登录
- 【×】登录即成为会员；注册/登录后完善姓名、年龄、收货地址、担当销售人员、身份等级（等级由规则与后台计算，前端展示）。（当前：登录页只提供微信/手机号模拟登录，不要求补充资料也未展示等级。）

### 3.3 优惠券与积分
- 【×】优惠券：在“我的-优惠券”分为全部/已使用/未使用/过期；结算页可选择并展示金额变化。积分：个人中心查看、结算页可抵扣且与满减互不影响。（当前：没有优惠券与积分模块，相关入口均为空。）

## 4. 页面与模块要求

### 4.1 首页
- 【×】结构：Banner、最新资讯、销量Top分类商品、优惠促活、店铺地址、加入我们。（当前：首页只有Banner、分类入口和热销商品，没有资讯、促销或加入我们板块。）
- 【×】交互/状态：加载/空态/错误；商品卡支持“快速加购”与成功反馈。（当前：仅实现快速加购提示，缺少加载与错误态处理。）
- 【×】验收点：销量Top取数规则稳定，价格信息与运营数据可及时更新。（当前：热销列表为写死数据，缺少与后台数据的同步机制。）

### 4.2 最新资讯（列表/详情）
- 【×】列表项：标题、日期、摘要、分页；详情支持分享。（当前：无资讯列表或详情页面。）

### 4.3 商品分类/列表页
- 【×】类目：处方药、非处方药、保健品…（可扩展）。（当前：左侧分类仅列出预设分类，无法管理或扩展。）
- 【×】筛选/排序：按价格、销量、是否处方/非处方、库存有无等（与后端字段对齐）。（当前：仅提供综合/销量/价格排序，缺少处方筛选与库存过滤。）
- 【×】卡片：主图、名称、价格（含税）、可售库存标识、加购按钮。（当前：卡片未显示库存与税金字段。）

### 4.4 商品详情页
- 【×】信息区块：图集；简介；售价（含税）；参数内容/基础信息；库存数量（中文站）；税金字段；数量步进器；加入购物车按钮；免责声明入口。（当前：详情仅含图集、简介、价格和规格选择，缺少库存、税金与免责声明入口。）
- 【×】交互：库存校验；加购成功吐司 & 建议跳转购物车；免责声明可点击查看且按属性配置。（当前：只有成功提示且未校验库存，缺少免责声明配置。）
- 【×】验收：价格、库存、单位展示准确且与结算逻辑一致。（当前：仅显示基础价格，缺少库存与税金信息。）

### 4.5 购物车页
- 【×】行项：商品图/名/规格、单价（含税）、税金、数量步进器、小计、删除。（当前：行项无税金与小计字段，也无删除按钮。）
- 【×】整单信息：商品小计、税金累加、运费、优惠券入口、积分抵扣入口、应付金额。（当前：仅显示合计金额和结算按钮。）
- 【×】免责声明提示：按行项属性展示“查看免责声明”。（当前：购物车内没有免责声明入口。）
- 【×】验收：税金逐项与整单一致；库存变化时行项校验。（当前：未实现税金与库存校验。）

### 4.6 结算页
- 【×】步骤：登录判断；收货地址选择/新增/编辑；快递方式选择；优惠券选择；积分抵扣；价格明细；二维码支付 + 用户确认支付结果。（当前：无登录限制，地址不可编辑，缺少优惠券/积分模块，也没有二维码支付。）
- 【×】验收：未登录不可提交；券与积分规则清晰；支付结果确认后进入处方/非处方分支。（当前：所有用户可直接提交，且缺少券积分逻辑与支付确认环节。）

### 4.7 支付完成后的分支页
- 【×】处方药订单后置页：问卷（非必填、预填，按商品分类绑定）、证件上传（必填，支持多格式校验），提交后进入订单完成页。（当前：问卷为必填且内容固定，证件上传页未与订单联动，完成后直接跳到订单详情。）
- 【×】非处方药订单：支付后直接到订单完成页。（当前：非处方订单跳转订单详情页面，无独立完成页提示。）

### 4.8 注册/登录
- 【×】登录即会员；支持手机/邮箱登录；完成人信息；展示会员等级与说明。（当前：登录页只模拟微信或手机号登录，未收集额外信息，更无等级说明。）

### 4.9 个人中心
- 【×】会员信息：姓名、年龄、地址、担当销售人员；会员等级分层展示。（当前：个人中心仅显示占位用户名和ID，缺少详细资料与等级。）
- 【×】我的订单：状态“已付款待确认”“已发货=完成”，支持筛选与详情跳转。（当前：订单页提供状态标签和详情跳转，但缺少真实状态映射与筛选条件。）
- 【×】我的优惠券：全部/已使用/未使用/过期，提示门槛与适用品类。（当前：无优惠券页面。）
- 【×】我的积分：当前积分、积分记录、规则说明。（当前：个人中心未显示积分信息。）

### 4.10 公共信息页
- 【×】公司介绍、店铺网点、加入我们、FAQ/营业时间/公司地址。（当前：除首页文字链接外，未实现独立信息页面。）

### 4.11 积分商城
- 【×】规则展示与兑换/抵扣流程说明。（当前：无积分商城页面或说明。）

### 4.12 免责声明页/弹窗
- 【×】触发点：加购后提示可查看；详情与购物车保留入口。（当前：仅在处方药加入购物车时弹确认，未提供常规免责声明入口。）
- 【×】展示：弹窗+独立汇总页，文案按商品属性绑定。（当前：没有免责声明汇总页或文案配置。）

## 5. 关键组件与字段

### 5.1 地址表单
- 【×】字段：姓名、手机/电话、国家/省/市/区、详细地址、邮编；默认地址勾选；必填校验与格式校验。（当前：结算页仅显示一条静态地址，缺少表单与校验。）

### 5.2 支付二维码区
- 【×】显示订单号、应付金额、二维码；按钮“我已完成支付”“遇到问题”；离开风险提示。（当前：流程中没有二维码区块或支付状态按钮。）

### 5.3 问卷与证件上传
- 【×】问卷：问题按商品分类下发，支持预填与跳过。（当前：问卷内容固定且必须勾选症状，无法跳过。）
- 【×】证件上传：处方药必传，支持多张、裁切、大小/格式校验、必传提示。（当前：身份证上传仅支持正反面各一张，无法预览裁切或关联处方药校验。）

### 5.4 优惠券选择器
- 【×】Tab 可用/不可用；卡片展示名称、门槛、适用范围、有效期、说明。（当前：无优惠券选择器。）

### 5.5 积分抵扣控件
- 【×】开关+输入框或“最大可抵扣”；显示抵扣金额并提示“不受满减/满赠影响”。（当前：无积分控件与提示。）

### 5.6 免责声明弹窗
- 【×】标题+可滚动正文；来源依据为商品属性；支持“我已知悉”。（当前：仅有基础提醒弹窗，不支持查看详细文案。）

## 6. 价格与库存规则（中文站）
- 【√】价格显示：全站以人民币展示商品金额。（当前：所有页面均采用人民币展示价格。）
- 【×】库存显示：商品详情与购物车需展示库存数量，并在下单前完成库存校验。（当前：页面缺少库存字段与相关校验。）
- 【×】税金显示：金额明细需区分商品含税价与税金累加逻辑。（当前：仅展示单价与总价，缺少税金字段。）

## 7. 会员等级与消息中心（前端展示）
- 【×】等级：潜在/新增/一般/定期复购/VIP/流失，个人中心展示达标规则。（当前：界面未展示任何等级信息。）
- 【×】消息提醒：生日/节日/复购（提前5–10天）/热点新闻聚合在消息中心。（当前：原型没有消息中心或提醒模块。）

## 8. 异常与空态
- 【×】购物车空、库存不足、优惠券不可用、积分不足、支付未确认、证件未上传、问卷未保存、网络错误等清晰提示。（当前：仅有购物车空提示，其余异常场景未覆盖。）

## 9. 埋点（建议）
- 【×】PV/UV、商品曝光与点击、加购、领券/用券、积分抵扣、结算到达率、二维码展示、处方环节转化、提醒点击率等。（当前：前端未集成任何埋点或事件上报。）

## 10. 与后端的关键接口约定（前端视角）
- 【×】商品：id、名称（中文）、价格（RMB）、库存（中文站）、税金字段、属性（是否处方药/类目）、图片集、参数。（当前：页面使用硬编码商品数据，缺少库存与税金字段。）
- 【×】订单：行项（含税单价/税金/数量）、收货地址、运费、券抵、积分抵、应付、支付二维码URL、支付状态。（当前：订单信息由前端模拟，缺少税金、券积分及二维码字段。）
- 【×】优惠券：id、名称、门槛、适用品类、有效期、类型（满减/满赠）、生效时机、可用性判定。（当前：暂无优惠券相关接口或数据结构。）
- 【×】积分：当前积分、倍率活动、下单返积分规则、可抵上限。（当前：未实现积分模块。）
- 【×】问卷：按商品分类下发问题集、预填数据、必填校验配置；证件上传存储地址与审核状态。（当前：问卷与证件上传均为静态前端逻辑，无接口约定。）
- 【×】会员：基本信息、等级计算结果、消息提醒列表。（当前：仅有本地存储用户名，没有等级或消息数据。）

## 11. 验收清单（DoD）
- 【×】价格与库存展示准确，含税标识与税金累加正确。（当前：仅有基础价格展示，缺少库存与税金字段。）
- 【×】处方药订单在支付后必经问卷/证件上传（问卷可跳过），非处方药直接完成。（当前：问卷不可跳过且缺少完成页。）
- 【×】优惠券（满减=本次；满赠=下次）规则与文案准确，前端选择器状态正确。（当前：无优惠券功能。）
- 【×】积分抵扣可用，且明确提示不受满减/满赠影响。（当前：无积分功能。）
- 【×】免责声明触达链路：详情页可见、加购后可达、购物车/结算可回看。（当前：仅有处方药弹窗，未覆盖详情/购物车回看。）

## 12. 低保真“文字线框”（示意）
- 【×】商品详情（移动端）：顶置面包屑/返回、主图轮播、含税价格、税金字段、库存信息、参数、数量步进器、加入购物车、免责声明、相关推荐。（当前：详情页缺少税金、库存展示、免责声明和相关推荐区块。）
- 【×】结算页步骤：登录提示、地址选择/新增、快递方式、优惠券选择器、积分抵扣、金额明细（含税金/运费/券/积分）、二维码支付与状态确认。（当前：结算页缺少登录提示、券积分模块及二维码支付确认。）
